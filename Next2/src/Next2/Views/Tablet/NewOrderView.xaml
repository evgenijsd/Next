<?xml version="1.0" encoding="UTF-8" ?>
<ContentView
    x:Class="Next2.Views.Tablet.NewOrderView"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:buttons="clr-namespace:Next2.Controls.Buttons"
    xmlns:controls="clr-namespace:Next2.Controls"
    xmlns:effects="clr-namespace:Next2.Effects"
    xmlns:ffimageloading="clr-namespace:FFImageLoading.Forms;assembly=FFImageLoading.Forms"
    xmlns:local="clr-namespace:Next2"
    xmlns:models="clr-namespace:Next2.Models"
    xmlns:pancakeview="clr-namespace:Xamarin.Forms.PancakeView;assembly=Xamarin.Forms.PancakeView"
    xmlns:templates="clr-namespace:Next2.Controls.Templates"
    xmlns:viewModels="clr-namespace:Next2.ViewModels.Tablet"
    xmlns:xct="http://xamarin.com/schemas/2020/toolkit"
    x:DataType="viewModels:NewOrderViewModel">

    <ContentView.Resources>
        <ResourceDictionary>

            <Style x:Key="labeltSize_i4" TargetType="Label">

                <Setter Property="VisualStateManager.VisualStateGroups">

                    <VisualStateGroupList>
                        <VisualStateGroup Name="AdaptiveLabel">

                            <VisualState Name="default">

                                <VisualState.StateTriggers>
                                    <AdaptiveTrigger MinWindowHeight="0" MinWindowWidth="0" />
                                </VisualState.StateTriggers>

                                <VisualState.Setters>
                                    <Setter Property="FontSize" Value="{DynamicResource TSize_i5}" />
                                </VisualState.Setters>

                            </VisualState>

                            <VisualState Name="moreiPadMini">

                                <VisualState.StateTriggers>
                                    <AdaptiveTrigger MinWindowHeight="601" MinWindowWidth="1025" />
                                </VisualState.StateTriggers>

                                <VisualState.Setters>
                                    <Setter Property="FontSize" Value="{DynamicResource TSize_i4}" />
                                </VisualState.Setters>

                            </VisualState>

                        </VisualStateGroup>
                    </VisualStateGroupList>

                </Setter>

            </Style>

            <Style x:Key="labeltSize_i6" TargetType="Label">

                <Setter Property="VisualStateManager.VisualStateGroups">

                    <VisualStateGroupList>
                        <VisualStateGroup Name="AdaptiveLabel">

                            <VisualState Name="default">

                                <VisualState.StateTriggers>
                                    <AdaptiveTrigger MinWindowHeight="0" MinWindowWidth="0" />
                                </VisualState.StateTriggers>

                                <VisualState.Setters>
                                    <Setter Property="FontSize" Value="{DynamicResource TSize_i7}" />
                                </VisualState.Setters>

                            </VisualState>

                            <VisualState Name="moreiPadMini">

                                <VisualState.StateTriggers>
                                    <AdaptiveTrigger MinWindowHeight="601" MinWindowWidth="1025" />
                                </VisualState.StateTriggers>

                                <VisualState.Setters>
                                    <Setter Property="FontSize" Value="{DynamicResource TSize_i6}" />
                                </VisualState.Setters>

                            </VisualState>

                        </VisualStateGroup>
                    </VisualStateGroupList>

                </Setter>

            </Style>

        </ResourceDictionary>
    </ContentView.Resources>

    <Grid ColumnDefinitions="*, 375" ColumnSpacing="0">
        <!--  Left Part  -->

        <StackLayout
            Grid.Row="0"
            Grid.Column="0"
            xct:StateLayout.AnimateStateChanges="True"
            xct:StateLayout.CurrentState="{Binding OrderRegistrationViewModel.CurrentState}"
            BackgroundColor="{DynamicResource TextAndBackgroundColor_i6}">

            <!--  StateCustomKey Doesn't work that's why I had to used Loading & Succes insted  -->
            <!--  StateKeys: Loading - NewOrderPage, Success - EditPage  -->
            <xct:StateLayout.StateViews>

                <xct:StateView StateKey="Loading">

                    <StackLayout>

                        <!--  Header  -->

                        <StackLayout
                            Padding="12,11,12,0"
                            Orientation="Horizontal"
                            VerticalOptions="Start">
                            <Label
                                FontFamily="Barlow-SemiBold"
                                FontSize="{DynamicResource TSize_i4}"
                                Text="{xct:Translate NewOrder}"
                                TextColor="{DynamicResource TextAndBackgroundColor_i1}">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup Name="AdaptiveLabel">

                                        <VisualState Name="moreiPadMini">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowHeight="601" MinWindowWidth="1025" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="FontSize" Value="{DynamicResource TSize_i3}" />
                                                <Setter Property="FontFamily" Value="Barlow-Bold" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </Label>

                            <ffimageloading:CachedImage HorizontalOptions="EndAndExpand" Source="ic_time_circle_24x24" />

                            <Label
                                Margin="5,0,0,0"
                                FontFamily="Barlow-Medium"
                                HorizontalTextAlignment="Center"
                                Style="{StaticResource labeltSize_i6}"
                                Text="{Binding CurrentDateTime, StringFormat='{}{0:h:mm:ss tt}'}"
                                TextColor="{DynamicResource TextAndBackgroundColor_i1}"
                                VerticalTextAlignment="Center"
                                WidthRequest="100" />

                            <ffimageloading:CachedImage Margin="20,0,0,0" Source="ic_calendar_24x24" />

                            <Label
                                Margin="5,0,0,0"
                                FontFamily="Barlow-Medium"
                                Style="{StaticResource labeltSize_i6}"
                                Text="{Binding CurrentDateTime, StringFormat='{}{0:dddd, d MMMM yyyy}'}"
                                TextColor="{DynamicResource TextAndBackgroundColor_i1}"
                                VerticalTextAlignment="Center" />

                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroupList>
                                    <VisualStateGroup Name="AdaptiveStackLayoutPadding">

                                        <VisualState Name="miniPadding">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowHeight="601" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Padding" Value="24, 22, 24, 0" />
                                            </VisualState.Setters>

                                        </VisualState>

                                        <VisualState Name="moreiPadMiniPadding">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowHeight="601" MinWindowWidth="1134" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Padding" Value="40, 34, 40, 0" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>
                                </VisualStateGroupList>
                            </VisualStateManager.VisualStateGroups>
                        </StackLayout>

                        <BoxView
                            Margin="0,12,0,0"
                            BackgroundColor="{DynamicResource TextAndBackgroundColor_i2}"
                            HeightRequest="1">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup Name="AdaptiveBoxView">

                                    <VisualState Name="minHeight">

                                        <VisualState.StateTriggers>
                                            <AdaptiveTrigger MinWindowHeight="601" />
                                        </VisualState.StateTriggers>

                                        <VisualState.Setters>
                                            <Setter Property="Margin" Value="0, 22, 0, 0" />
                                        </VisualState.Setters>

                                    </VisualState>

                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </BoxView>

                        <StackLayout VerticalOptions="Start">

                            <!--  Categories header  -->

                            <StackLayout
                                Padding="12,11,12,0"
                                Orientation="Horizontal"
                                VerticalOptions="Start">
                                <Label
                                    FontFamily="Barlow-SemiBold"
                                    Style="{StaticResource labeltSize_i4}"
                                    Text="{xct:Translate Categories}"
                                    TextColor="{DynamicResource TextAndBackgroundColor_i1}"
                                    VerticalTextAlignment="Center" />

                                <Frame
                                    Padding="15,5"
                                    BackgroundColor="{DynamicResource TextAndBackgroundColor_i6}"
                                    BorderColor="{DynamicResource TextAndBackgroundColor_i2}"
                                    CornerRadius="5"
                                    HasShadow="False"
                                    HorizontalOptions="EndAndExpand">

                                    <StackLayout Orientation="Horizontal">

                                        <ffimageloading:CachedImage Source="ic_category_24x24" />

                                        <Label
                                            Margin="10,0,0,0"
                                            FontFamily="Barlow-Medium"
                                            FontSize="{DynamicResource TSize_i7}"
                                            Text="{xct:Translate Expand}"
                                            TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                    </StackLayout>

                                    <Frame.GestureRecognizers>

                                        <TapGestureRecognizer Command="{Binding TapExpandCommand}" />

                                    </Frame.GestureRecognizers>

                                </Frame>

                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroupList>
                                        <VisualStateGroup Name="AdaptiveStackLayoutPadding">

                                            <VisualState Name="miniPadding">

                                                <VisualState.StateTriggers>
                                                    <AdaptiveTrigger MinWindowHeight="601" />
                                                </VisualState.StateTriggers>

                                                <VisualState.Setters>
                                                    <Setter Property="Padding" Value="24, 22, 24, 0" />
                                                </VisualState.Setters>

                                            </VisualState>

                                            <VisualState Name="moreiPadMiniPadding">

                                                <VisualState.StateTriggers>
                                                    <AdaptiveTrigger MinWindowHeight="601" MinWindowWidth="1134" />
                                                </VisualState.StateTriggers>

                                                <VisualState.Setters>
                                                    <Setter Property="Padding" Value="40, 34, 40, 0" />
                                                </VisualState.Setters>

                                            </VisualState>

                                        </VisualStateGroup>
                                    </VisualStateGroupList>
                                </VisualStateManager.VisualStateGroups>
                            </StackLayout>

                            <controls:StepperCarousel
                                Margin="12,10,12,16"
                                HeightRequest="100"
                                ItemsSource="{Binding CategoriesItems}"
                                SelectedItem="{Binding SelectedCategoriesItem}">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup Name="AdaptiveStepperCarousel">

                                        <VisualState Name="minHeight">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowHeight="601" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Margin" Value="24, 26, 24, 32" />
                                                <Setter Property="HeightRequest" Value="116" />
                                            </VisualState.Setters>

                                        </VisualState>

                                        <VisualState Name="moreiPadMini">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowHeight="601" MinWindowWidth="1134" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Margin" Value="40, 26, 40, 32" />
                                                <Setter Property="HeightRequest" Value="116" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </controls:StepperCarousel>

                            <BoxView
                                Margin="12,0"
                                BackgroundColor="{DynamicResource TextAndBackgroundColor_i2}"
                                HeightRequest="1">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup Name="AdaptiveBoxViewMargin">

                                        <VisualState Name="miniMargin">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowHeight="601" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Margin" Value="24, 0" />
                                            </VisualState.Setters>

                                        </VisualState>

                                        <VisualState Name="moreiPadMiniMargin">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowHeight="601" MinWindowWidth="1134" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Margin" Value="40, 0" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </BoxView>

                        </StackLayout>

                        <!--  Menu header  -->

                        <StackLayout
                            Padding="12,11,12,0"
                            Orientation="Horizontal"
                            VerticalOptions="Start">
                            <Label
                                FontFamily="Barlow-SemiBold"
                                Style="{StaticResource labeltSize_i4}"
                                Text="{xct:Translate Menu}"
                                TextColor="{DynamicResource TextAndBackgroundColor_i1}"
                                VerticalTextAlignment="Center" />

                            <Frame
                                Padding="15,5"
                                xct:TouchEffect.Command="{Binding TapSortCommand}"
                                BackgroundColor="{DynamicResource TextAndBackgroundColor_i6}"
                                BorderColor="{DynamicResource TextAndBackgroundColor_i2}"
                                CornerRadius="5"
                                HasShadow="False"
                                HorizontalOptions="EndAndExpand">

                                <StackLayout Orientation="Horizontal">

                                    <ffimageloading:CachedImage Source="ic_swap_24x24" />

                                    <Label
                                        Margin="10,0,0,0"
                                        FontFamily="Barlow-Medium"
                                        FontSize="{DynamicResource TSize_i7}"
                                        Text="{xct:Translate TypeOrder}"
                                        TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                </StackLayout>

                            </Frame>

                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroupList>
                                    <VisualStateGroup Name="AdaptiveStackLayoutPadding">

                                        <VisualState Name="miniPadding">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowHeight="601" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Padding" Value="24, 22, 24, 0" />
                                            </VisualState.Setters>

                                        </VisualState>

                                        <VisualState Name="moreiPadMiniPadding">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowHeight="601" MinWindowWidth="1134" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Padding" Value="40, 34, 40, 0" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>
                                </VisualStateGroupList>
                            </VisualStateManager.VisualStateGroups>
                        </StackLayout>

                        <!--  Menu  -->

                        <CollectionView
                            x:Name="menuCollectionView"
                            Margin="12,8,12,0"
                            ItemsSource="{Binding SetsItems}"
                            SelectionMode="Single"
                            VerticalOptions="StartAndExpand"
                            VerticalScrollBarVisibility="Always">
                            <CollectionView.ItemsLayout>

                                <GridItemsLayout
                                    HorizontalItemSpacing="5"
                                    Orientation="Vertical"
                                    Span="2"
                                    VerticalItemSpacing="5" />

                            </CollectionView.ItemsLayout>

                            <CollectionView.Effects>
                                <effects:NoOverScrollEffect />

                                <effects:ScrollBarColorEffect
                                    ScrollBarCornerRadius="9"
                                    ScrollBarThumbColor="{StaticResource AppColor_i1}"
                                    ScrollBarThumbWidth="6"
                                    ScrollBarTrackColor="{StaticResource TextAndBackgroundColor_i2}" />
                            </CollectionView.Effects>

                            <CollectionView.ItemTemplate>
                                <DataTemplate>
                                    <templates:SetItemTemplate
                                        x:DataType="models:SetModel"
                                        xct:TouchEffect.Command="{Binding TapSetCommand, Source={RelativeSource AncestorType={x:Type viewModels:NewOrderViewModel}}}"
                                        xct:TouchEffect.CommandParameter="{Binding .}"
                                        HeightRequest="327" />

                                </DataTemplate>
                            </CollectionView.ItemTemplate>

                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup Name="AdaptiveColumn">

                                    <VisualState Name="minHeight">

                                        <VisualState.StateTriggers>
                                            <AdaptiveTrigger MinWindowHeight="601" />
                                        </VisualState.StateTriggers>

                                        <VisualState.Setters>
                                            <Setter Property="Margin" Value="24, 16, 24, 0" />
                                        </VisualState.Setters>

                                    </VisualState>

                                    <VisualState Name="moreiPadMiniColumn">

                                        <VisualState.StateTriggers>
                                            <AdaptiveTrigger MinWindowHeight="601" MinWindowWidth="1134" />
                                        </VisualState.StateTriggers>

                                        <VisualState.Setters>
                                            <Setter Property="ItemsLayout">

                                                <GridItemsLayout
                                                    HorizontalItemSpacing="5"
                                                    Orientation="Vertical"
                                                    Span="3"
                                                    VerticalItemSpacing="5" />

                                            </Setter>

                                            <Setter Property="Margin" Value="40, 26, 40, 0" />

                                        </VisualState.Setters>

                                    </VisualState>

                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </CollectionView>

                        <!--  Tabs Subcategories Menu  -->

                        <CollectionView
                            HeightRequest="50"
                            ItemsSource="{Binding SubcategoriesItems}"
                            MinimumHeightRequest="50"
                            SelectedItem="{Binding SelectedSubcategoriesItem}"
                            SelectionMode="Single"
                            VerticalOptions="End"
                            VerticalScrollBarVisibility="Never">
                            <CollectionView.Effects>
                                <effects:NoOverScrollEffect />
                            </CollectionView.Effects>

                            <CollectionView.ItemsLayout>

                                <GridItemsLayout
                                    HorizontalItemSpacing="0"
                                    Orientation="Vertical"
                                    Span="5"
                                    VerticalItemSpacing="0" />

                            </CollectionView.ItemsLayout>

                            <CollectionView.ItemTemplate>
                                <DataTemplate x:DataType="models:SubcategoryModel">

                                    <templates:SubCategoryItemTemplate
                                        FontFamily="Barlow-Medium"
                                        FontSize="{DynamicResource TSize_i6}"
                                        HeightRequest="50"
                                        MinimumHeightRequest="50"
                                        Text="{Binding Title}">
                                        <VisualStateManager.VisualStateGroups>
                                            <VisualStateGroup Name="AdaptiveSubCategoryItemTemplate">

                                                <VisualState Name="minHeight">

                                                    <VisualState.StateTriggers>
                                                        <AdaptiveTrigger MinWindowHeight="601" />
                                                    </VisualState.StateTriggers>

                                                    <VisualState.Setters>
                                                        <Setter Property="HeightRequest" Value="82" />
                                                        <Setter Property="MinimumHeightRequest" Value="82" />
                                                    </VisualState.Setters>

                                                </VisualState>

                                            </VisualStateGroup>
                                        </VisualStateManager.VisualStateGroups>
                                    </templates:SubCategoryItemTemplate>

                                </DataTemplate>
                            </CollectionView.ItemTemplate>

                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup Name="AdaptiveSubcategoriesCollectionView">

                                    <VisualState Name="minHeight">

                                        <VisualState.StateTriggers>
                                            <AdaptiveTrigger MinWindowHeight="601" />
                                        </VisualState.StateTriggers>

                                        <VisualState.Setters>
                                            <Setter Property="HeightRequest" Value="82" />
                                            <Setter Property="MinimumHeightRequest" Value="82" />
                                        </VisualState.Setters>

                                    </VisualState>

                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>
                        </CollectionView>

                    </StackLayout>

                </xct:StateView>

                <xct:StateView StateKey="Success">

                    <Grid RowDefinitions="*, auto">

                        <Grid
                            Grid.Row="0"
                            RowDefinitions="auto, *"
                            RowSpacing="0">

                            <StackLayout Grid.Row="0">

                                <!--  CANCEL  -->
                                <controls:CustomNavigationbar
                                    Title="{xct:Translate Cancel}"
                                    Grid.Row="0"
                                    Padding="15,0,0,0"
                                    HeightImage="20"
                                    HeightRequest="50"
                                    LeftButtonCommand="{Binding OrderRegistrationViewModel.GoBackCommand}">
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroupList>
                                            <VisualStateGroup Name="AdaptiveNavigationBar">

                                                <VisualState Name="Medium">

                                                    <VisualState.StateTriggers>
                                                        <AdaptiveTrigger MinWindowWidth="1024" />
                                                    </VisualState.StateTriggers>

                                                    <VisualState.Setters>
                                                        <Setter Property="HeightRequest" Value="70" />
                                                        <Setter Property="HeightImage" Value="30" />
                                                    </VisualState.Setters>

                                                </VisualState>

                                            </VisualStateGroup>

                                        </VisualStateGroupList>
                                    </VisualStateManager.VisualStateGroups>
                                </controls:CustomNavigationbar>

                                <!--  Edit Order Label  -->
                                <Label
                                    Margin="30,10"
                                    FontFamily="Barlow-Bold"
                                    FontSize="18"
                                    HorizontalOptions="Start"
                                    Text="{xct:Translate EditOrder}"
                                    TextColor="{DynamicResource TextAndBackgroundColor_i1}"
                                    VerticalOptions="Center">
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroupList>
                                            <VisualStateGroup Name="AdaptiveTitle">

                                                <VisualState Name="Medium">

                                                    <VisualState.StateTriggers>
                                                        <AdaptiveTrigger MinWindowWidth="1024" />
                                                    </VisualState.StateTriggers>

                                                    <VisualState.Setters>
                                                        <Setter Property="FontSize" Value="28" />
                                                        <Setter Property="Margin" Value="30, 20" />
                                                    </VisualState.Setters>

                                                </VisualState>

                                            </VisualStateGroup>

                                        </VisualStateGroupList>
                                    </VisualStateManager.VisualStateGroups>
                                </Label>

                                <BoxView Style="{DynamicResource SeparatorStyle_i2}" />

                            </StackLayout>

                            <ScrollView Grid.Row="1" HeightRequest="700">

                                <ScrollView.Effects>
                                    <effects:NoOverScrollEffect />

                                    <effects:ScrollBarColorEffect
                                        ScrollBarCornerRadius="9"
                                        ScrollBarThumbColor="{StaticResource AppColor_i1}"
                                        ScrollBarThumbWidth="6"
                                        ScrollBarTrackColor="{StaticResource TextAndBackgroundColor_i2}" />
                                </ScrollView.Effects>

                                <Grid
                                    Grid.Row="1"
                                    Margin="30,0,30,0"
                                    x:DataType="viewModels:NewOrderViewModel"
                                    RowDefinitions="auto, auto, auto, auto, auto, *">

                                    <!--  Row 1 Image & Title  -->

                                    <StackLayout Grid.Row="0" Orientation="Horizontal">

                                        <StackLayout
                                            Margin="0,15,0,15"
                                            HorizontalOptions="Start"
                                            Orientation="Vertical"
                                            VerticalOptions="Center">

                                            <Frame
                                                Padding="0"
                                                BorderColor="Transparent"
                                                CornerRadius="10"
                                                HeightRequest="80"
                                                WidthRequest="80">

                                                <ffimageloading:CachedImage Aspect="AspectFill" Source="{Binding OrderRegistrationViewModel.SelectedSet.ImagePath}" />

                                            </Frame>

                                        </StackLayout>

                                        <StackLayout
                                            Margin="20,0,0,0"
                                            Orientation="Vertical"
                                            VerticalOptions="Center">

                                            <Label
                                                Margin="0,0,0,0"
                                                FontFamily="Barlow-Medium"
                                                FontSize="{DynamicResource TSize_i4_5}"
                                                Text="{Binding OrderRegistrationViewModel.SelectedSet.Title}"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                            <Label
                                                Margin="0,5,0,0"
                                                FontFamily="Barlow-SemiBold"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="{Binding OrderRegistrationViewModel.SelectedSet.Portion.Price, StringFormat='$ {0:F2}'}"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                        </StackLayout>

                                    </StackLayout>

                                    <!--  Row 2 Proportions  -->

                                    <Grid
                                        Grid.Row="1"
                                        ColumnDefinitions="0.50*, 0.50*"
                                        RowDefinitions="auto, auto">

                                        <BoxView
                                            Grid.ColumnSpan="2"
                                            BackgroundColor="{DynamicResource TextAndBackgroundColor_i3}"
                                            HeightRequest="1"
                                            VerticalOptions="Start" />

                                        <Label
                                            Grid.Row="0"
                                            Margin="0,10,0,0"
                                            FontFamily="Barlow-SemiBold"
                                            FontSize="{DynamicResource TSize_i6}"
                                            Text="{xct:Translate Proportions}"
                                            TextColor="{DynamicResource TextAndBackgroundColor_i9}"
                                            VerticalOptions="Start" />

                                        <StackLayout
                                            Grid.Row="1"
                                            Grid.Column="0"
                                            Orientation="Vertical"
                                            VerticalOptions="Start">

                                            <Label
                                                Margin="0,5,0,10"
                                                FontFamily="Barlow-Medium"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="{Binding OrderRegistrationViewModel.SelectedSet.Portion.Title}"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                        </StackLayout>

                                        <StackLayout
                                            Grid.Row="1"
                                            Grid.Column="1"
                                            HorizontalOptions="EndAndExpand"
                                            Orientation="Vertical">

                                            <Label
                                                FontFamily="Barlow-SemiBold"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="{Binding OrderRegistrationViewModel.SelectedSet.Portion.Price, StringFormat='$ {0:F2}'}"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                        </StackLayout>

                                    </Grid>

                                    <!--  Row 3 Inventory Prepearing for the incomming task (REVOME TEST PROPERTY WHEN MODIFICATIONS PAGE WILL BE DONE)  -->

                                    <Grid
                                        Grid.Row="2"
                                        ColumnDefinitions="0.50*, 0.50*"
                                        IsVisible="False"
                                        RowDefinitions="auto, auto">

                                        <BoxView
                                            Grid.ColumnSpan="2"
                                            BackgroundColor="{DynamicResource TextAndBackgroundColor_i3}"
                                            HeightRequest="1"
                                            VerticalOptions="Start" />

                                        <Label
                                            Grid.Row="0"
                                            Margin="0,10,0,0"
                                            FontFamily="Barlow-SemiBold"
                                            FontSize="{DynamicResource TSize_i6}"
                                            Text="{xct:Translate Inventory}"
                                            TextColor="{DynamicResource TextAndBackgroundColor_i9}"
                                            VerticalOptions="Start" />

                                        <StackLayout
                                            Grid.Row="1"
                                            Grid.Column="0"
                                            Orientation="Vertical"
                                            VerticalOptions="Start">

                                            <Label
                                                Margin="0,5,0,0"
                                                FontFamily="Barlow-Medium"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="Test product 1"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                            <Label
                                                Margin="0,5,0,0"
                                                FontFamily="Barlow-Medium"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="Test product 2"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                            <Label
                                                Margin="0,5,0,10"
                                                FontFamily="Barlow-Medium"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="Test product 3"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                        </StackLayout>

                                        <StackLayout
                                            Grid.Row="1"
                                            Grid.Column="1"
                                            HorizontalOptions="EndAndExpand"
                                            Orientation="Vertical">

                                            <Label
                                                Margin="0,5,0,0"
                                                FontFamily="Barlow-SemiBold"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="$ 12.50"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                            <Label
                                                Margin="0,5,0,0"
                                                FontFamily="Barlow-SemiBold"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="$ 12.50"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                            <Label
                                                Margin="0,5,0,0"
                                                FontFamily="Barlow-SemiBold"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="$ 1.00"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                        </StackLayout>

                                    </Grid>

                                    <!--  Row 4 Replace Prepearing for the incomming task (REVOME TEST PROPERTY WHEN MODIFICATIONS PAGE WILL BE DONE)  -->

                                    <Grid
                                        Grid.Row="3"
                                        ColumnDefinitions="0.50*, 0.50*"
                                        IsVisible="False"
                                        RowDefinitions="auto, auto"
                                        RowSpacing="0">

                                        <BoxView
                                            Grid.Row="0"
                                            Grid.ColumnSpan="2"
                                            BackgroundColor="{DynamicResource TextAndBackgroundColor_i3}"
                                            HeightRequest="1"
                                            VerticalOptions="Start" />

                                        <Label
                                            Grid.Row="0"
                                            Margin="0,10,0,0"
                                            FontFamily="Barlow-SemiBold"
                                            FontSize="{DynamicResource TSize_i6}"
                                            Text="{xct:Translate Replace}"
                                            TextColor="{DynamicResource TextAndBackgroundColor_i9}"
                                            VerticalOptions="Start" />


                                        <StackLayout
                                            Grid.Row="1"
                                            Grid.Column="0"
                                            Orientation="Vertical"
                                            VerticalOptions="Start">

                                            <Label
                                                Margin="0,5,0,0"
                                                FontFamily="Barlow-Medium"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="Lettuce"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}"
                                                VerticalOptions="Start" />

                                            <Label
                                                Margin="0,5,0,10"
                                                FontFamily="Barlow-Medium"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="Jalapeno Mayo"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                        </StackLayout>

                                        <StackLayout
                                            Grid.Row="1"
                                            Grid.Column="1"
                                            HorizontalOptions="EndAndExpand"
                                            Orientation="Vertical">

                                            <Label
                                                FontFamily="Barlow-SemiBold"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="$ 1.00"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                            <Label
                                                Margin="0,5,0,0"
                                                FontFamily="Barlow-SemiBold"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="$ 0.50"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                        </StackLayout>

                                    </Grid>

                                    <!--  Row 5 Option Prepearing for the incomming task (REVOME TEST PROPERTY WHEN MODIFICATIONS PAGE WILL BE DONE)  -->

                                    <Grid
                                        Grid.Row="4"
                                        IsVisible="False"
                                        RowSpacing="0">

                                        <StackLayout>

                                            <BoxView
                                                BackgroundColor="{DynamicResource TextAndBackgroundColor_i3}"
                                                HeightRequest="1"
                                                VerticalOptions="Start" />

                                            <Label
                                                Margin="0,10,0,0"
                                                FontFamily="Barlow-SemiBold"
                                                FontSize="{DynamicResource TSize_i6}"
                                                Text="{xct:Translate Option}"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i9}" />

                                            <Label
                                                Margin="0,5,0,0"
                                                FontFamily="Barlow-Medium"
                                                FontSize="{DynamicResource TSize_i5}"
                                                Text="Rare"
                                                TextColor="{DynamicResource TextAndBackgroundColor_i1}" />

                                        </StackLayout>

                                    </Grid>

                                    <!--  Row 6 Footer  -->

                                    <Grid Grid.Row="5" />

                                </Grid>

                            </ScrollView>

                        </Grid>

                        <!--  Bottom Buttons  -->
                        <Grid
                            Grid.Row="1"
                            ColumnDefinitions="0.35*, 0.29*, 0.35*"
                            ColumnSpacing="12"
                            RowDefinitions="auto, auto"
                            VerticalOptions="EndAndExpand">

                            <BoxView
                                Grid.Row="0"
                                Grid.ColumnSpan="3"
                                BackgroundColor="{DynamicResource TextAndBackgroundColor_i3}"
                                HeightRequest="1"
                                VerticalOptions="Start" />

                            <buttons:BorderButton
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="30,12,0,12"
                                Padding="0"
                                Background="{DynamicResource IndicationColor_i1}"
                                Command="{Binding OrderRegistrationViewModel.OpenModifyCommand}"
                                FontSize="{DynamicResource TSize_i7}"
                                HeightRequest="32"
                                Style="{DynamicResource BorderButtonStyle_i2}"
                                Text="{xct:Translate Modify}"
                                TextColor="{DynamicResource TextAndBackgroundColor_i3}">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroupList>
                                        <VisualStateGroup Name="AdaptiveBottomButton">

                                            <VisualState Name="Medium">

                                                <VisualState.StateTriggers>
                                                    <AdaptiveTrigger MinWindowWidth="1024" />
                                                </VisualState.StateTriggers>

                                                <VisualState.Setters>
                                                    <Setter Property="FontSize" Value="{DynamicResource TSize_i5}" />
                                                    <Setter Property="HeightRequest" Value="45" />
                                                </VisualState.Setters>

                                            </VisualState>

                                        </VisualStateGroup>
                                    </VisualStateGroupList>
                                </VisualStateManager.VisualStateGroups>
                            </buttons:BorderButton>

                            <buttons:BorderButton
                                Grid.Row="1"
                                Grid.Column="1"
                                Margin="0,12,0,12"
                                Padding="0"
                                Background="{DynamicResource IndicationColor_i5}"
                                Command="{Binding OrderRegistrationViewModel.OpenHoldSelectionCommand}"
                                FontSize="{DynamicResource TSize_i7}"
                                HeightRequest="32"
                                Style="{DynamicResource BorderButtonStyle_i2}"
                                Text="{xct:Translate HoldItem}">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroupList>
                                        <VisualStateGroup Name="AdaptiveBottomButton">

                                            <VisualState Name="Medium">

                                                <VisualState.StateTriggers>
                                                    <AdaptiveTrigger MinWindowWidth="1024" />
                                                </VisualState.StateTriggers>

                                                <VisualState.Setters>
                                                    <Setter Property="FontSize" Value="{DynamicResource TSize_i5}" />
                                                    <Setter Property="HeightRequest" Value="45" />
                                                </VisualState.Setters>

                                            </VisualState>

                                        </VisualStateGroup>
                                    </VisualStateGroupList>
                                </VisualStateManager.VisualStateGroups>
                            </buttons:BorderButton>

                            <buttons:BorderButton
                                Grid.Row="1"
                                Grid.Column="2"
                                Margin="0,12,30,12"
                                Padding="0"
                                Background="{DynamicResource IndicationColor_i3}"
                                Command="{Binding OrderRegistrationViewMode.OpenRemoveCommand}"
                                FontSize="{DynamicResource TSize_i7}"
                                HeightRequest="32"
                                Style="{DynamicResource BorderButtonStyle_i2}"
                                Text="{xct:Translate Remove}">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroupList>
                                        <VisualStateGroup Name="AdaptiveBottomButton">

                                            <VisualState Name="Medium">

                                                <VisualState.StateTriggers>
                                                    <AdaptiveTrigger MinWindowWidth="1024" />
                                                </VisualState.StateTriggers>

                                                <VisualState.Setters>
                                                    <Setter Property="FontSize" Value="{DynamicResource TSize_i5}" />
                                                    <Setter Property="HeightRequest" Value="45" />
                                                </VisualState.Setters>

                                            </VisualState>

                                        </VisualStateGroup>
                                    </VisualStateGroupList>
                                </VisualStateManager.VisualStateGroups>
                            </buttons:BorderButton>

                        </Grid>

                    </Grid>

                </xct:StateView>

            </xct:StateLayout.StateViews>

        </StackLayout>

        <!--  Order Registration Block  -->
        <Grid
            Grid.Row="0"
            Grid.Column="1"
            x:DataType="viewModels:NewOrderViewModel"
            BackgroundColor="{DynamicResource TextAndBackgroundColor_i3}"
            RowDefinitions="auto, auto, auto, auto, 66">

            <Grid.Resources>
                <Style TargetType="Label">
                    <Setter Property="VerticalOptions" Value="Center" />
                    <Setter Property="TextColor" Value="{DynamicResource TextAndBackgroundColor_i1}" />
                </Style>

                <Style x:Key="SemiBold24LabelStyle" TargetType="Label">
                    <Setter Property="FontFamily" Value="Barlow-SemiBold" />
                    <Setter Property="FontSize" Value="{DynamicResource TSize_i5}" />
                </Style>

                <Style x:Key="SemiBold18LabelStyle" TargetType="Label">
                    <Setter Property="FontFamily" Value="Barlow-SemiBold" />
                    <Setter Property="FontSize" Value="{DynamicResource TSize_i6}" />
                </Style>

                <Style x:Key="Medium18LabelStyle" TargetType="Label">
                    <Setter Property="FontFamily" Value="Barlow-Medium" />
                    <Setter Property="FontSize" Value="{DynamicResource TSize_i5}" />
                </Style>

                <Style x:Key="Medium16LabelStyle" TargetType="Label">
                    <Setter Property="FontFamily" Value="Barlow-Medium" />
                    <Setter Property="FontSize" Value="{DynamicResource TSize_i8}" />
                </Style>

                <Style x:Key="Medium14LabelStyle" TargetType="Label">
                    <Setter Property="FontFamily" Value="Barlow-Medium" />
                    <Setter Property="FontSize" Value="{DynamicResource TSize_i8}" />
                </Style>

                <Style
                    x:Key="BorderButtonStyle_i2"
                    BasedOn="{StaticResource BorderButtonStyle_i1}"
                    TargetType="buttons:BorderButton">
                    <Setter Property="Padding" Value="0" />
                    <Setter Property="HeightRequest" Value="36" />
                    <Setter Property="FontFamily" Value="Barlow-Semibold" />
                    <Setter Property="FontSize" Value="{DynamicResource TSize_i8}" />
                    <Setter Property="CornerRadius" Value="4" />
                    <Setter Property="BackgroundColor" Value="Transparent" />
                </Style>

                <Style
                    x:Key="IconBorderButtonStyle_i2"
                    BasedOn="{StaticResource IconBorderButtonStyle_i1}"
                    TargetType="buttons:IconBorderButton">
                    <Setter Property="VerticalOptions" Value="CenterAndExpand" />
                    <Setter Property="CornerRadius" Value="6" />
                    <Setter Property="Padding" Value="8, 6" />
                    <Setter Property="IconHeight" Value="18" />
                    <Setter Property="Border">
                        <Setter.Value>
                            <pancakeview:Border Thickness="{OnPlatform Android=2, iOS=1}" Color="{StaticResource AppColor_i1}" />
                        </Setter.Value>
                    </Setter>
                </Style>

                <Style x:Key="CustomStepperStyle_i1" TargetType="controls:CustomStepper">
                    <Setter Property="FontFamily" Value="Barlow-SemiBold" />
                    <Setter Property="FontSize" Value="{DynamicResource TSize_i8}" />
                    <Setter Property="TextWidth" Value="30" />
                    <Setter Property="IconSizes" Value="24" />
                </Style>
            </Grid.Resources>

            <!--  HEADER, 1 ROW  -->
            <StackLayout
                Grid.Row="0"
                Padding="18,24,18,14"
                Orientation="Horizontal">
                <Label Margin="0,2,0,0" Style="{DynamicResource Medium18LabelStyle}">
                    <Label.FormattedText>
                        <FormattedString>
                            <Span Text="{xct:Translate Order}" />
                            <Span Text="{Binding OrderRegistrationViewModel.CurrentOrder.Id, StringFormat='{} #{0}'}" />
                        </FormattedString>
                    </Label.FormattedText>

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroupList>
                            <VisualStateGroup Name="AdaptiveLabel">

                                <VisualState Name="Large">

                                    <VisualState.StateTriggers>
                                        <AdaptiveTrigger MinWindowWidth="1280" />
                                    </VisualState.StateTriggers>

                                    <VisualState.Setters>
                                        <Setter Property="Style" Value="{DynamicResource SemiBold24LabelStyle}" />
                                    </VisualState.Setters>

                                </VisualState>

                            </VisualStateGroup>

                        </VisualStateGroupList>
                    </VisualStateManager.VisualStateGroups>
                </Label>

                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroupList>
                        <VisualStateGroup Name="AdaptiveHeader">

                            <VisualState Name="Medium">

                                <VisualState.StateTriggers>
                                    <AdaptiveTrigger MinWindowWidth="1194" />
                                </VisualState.StateTriggers>

                                <VisualState.Setters>
                                    <Setter Property="Padding" Value="18, 20, 18, 14" />
                                </VisualState.Setters>

                            </VisualState>

                            <VisualState Name="Large">

                                <VisualState.StateTriggers>
                                    <AdaptiveTrigger MinWindowWidth="1280" />
                                </VisualState.StateTriggers>

                                <VisualState.Setters>
                                    <Setter Property="Padding" Value="18, 37, 18, 22" />
                                </VisualState.Setters>

                            </VisualState>

                        </VisualStateGroup>
                    </VisualStateGroupList>
                </VisualStateManager.VisualStateGroups>
            </StackLayout>

            <controls:DropDownList
                Grid.Row="0"
                Margin="18,26"
                HeaderText="{Binding OrderRegistrationViewModel.SelectedOrderType.Text}"
                HorizontalOptions="End"
                ItemsSource="{Binding OrderRegistrationViewModel.OrderTypes}"
                SelectedItem="{Binding OrderRegistrationViewModel.SelectedOrderType}"
                Style="{DynamicResource DropDownListStyle_i1}"
                VerticalOptions="Start"
                WidthRequest="110">
                <controls:DropDownList.DataTemplate>
                    <DataTemplate>
                        <StackLayout Style="{DynamicResource StackLayoutTemplateStyle_i1}">

                            <BoxView Style="{DynamicResource SeparatorStyle_i3}" />

                            <StackLayout
                                Padding="14,7,14,12"
                                HeightRequest="20"
                                Orientation="Horizontal">

                                <Label
                                    x:DataType="models:OrderTypeBindableModel"
                                    FontFamily="Barlow-Medium"
                                    FontSize="{DynamicResource TSize_i7}"
                                    HorizontalOptions="FillAndExpand"
                                    Text="{Binding Text}" />

                            </StackLayout>

                        </StackLayout>
                    </DataTemplate>
                </controls:DropDownList.DataTemplate>

                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup Name="AdaptiveDropDownList">

                        <VisualState Name="Medium">

                            <VisualState.StateTriggers>
                                <AdaptiveTrigger MinWindowWidth="1194" />
                            </VisualState.StateTriggers>

                            <VisualState.Setters>
                                <Setter Property="Margin" Value="18" />
                            </VisualState.Setters>

                        </VisualState>

                        <VisualState Name="Large">

                            <VisualState.StateTriggers>
                                <AdaptiveTrigger MinWindowWidth="1280" />
                            </VisualState.StateTriggers>

                            <VisualState.Setters>
                                <Setter Property="Margin" Value="18, 38" />
                            </VisualState.Setters>

                        </VisualState>

                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
            </controls:DropDownList>

            <!--  HEADER, 2 ROW  -->
            <StackLayout
                Grid.Row="1"
                Padding="22,24"
                Orientation="Horizontal"
                Spacing="20">

                <Label
                    Padding="0,0,0,2"
                    HorizontalOptions="EndAndExpand"
                    Style="{DynamicResource Medium14LabelStyle}"
                    Text="{xct:Translate Seats}">
                    <Label.Triggers>
                        <DataTrigger
                            Binding="{Binding OrderRegistrationViewModel.CurrentOrder.Seats.Count}"
                            TargetType="Label"
                            Value="0">

                            <Setter Property="Opacity" Value="{StaticResource OpacityWhenDisabled_i1}" />

                        </DataTrigger>
                    </Label.Triggers>

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroupList>
                            <VisualStateGroup Name="Label_i2">

                                <VisualState Name="Large">

                                    <VisualState.StateTriggers>
                                        <AdaptiveTrigger MinWindowWidth="1280" />
                                    </VisualState.StateTriggers>

                                    <VisualState.Setters>
                                        <Setter Property="Style" Value="{DynamicResource SemiBold18LabelStyle}" />
                                    </VisualState.Setters>

                                </VisualState>

                            </VisualStateGroup>

                        </VisualStateGroupList>
                    </VisualStateManager.VisualStateGroups>
                </Label>

                <controls:CustomStepper
                    DecrementCommand="{Binding OrderRegistrationViewModel.DeleteLastSeatCommand}"
                    MaxValue="{x:Static local:Constants.MAX_TABLE_SEATS}"
                    Style="{DynamicResource CustomStepperStyle_i1}"
                    Value="{Binding OrderRegistrationViewModel.NumberOfSeats}">

                    <controls:CustomStepper.Triggers>
                        <DataTrigger
                            Binding="{Binding OrderRegistrationViewModel.CurrentOrder.Seats.Count}"
                            TargetType="controls:CustomStepper"
                            Value="0">

                            <Setter Property="IsEnabled" Value="False" />

                        </DataTrigger>
                    </controls:CustomStepper.Triggers>

                </controls:CustomStepper>

            </StackLayout>

            <controls:DropDownList
                Grid.Row="1"
                Margin="18"
                HeaderText="{Binding OrderRegistrationViewModel.SelectedTable.Id, StringFormat='Table {0}'}"
                HorizontalOptions="Start"
                ItemsSource="{Binding OrderRegistrationViewModel.Tables}"
                SelectedItem="{Binding OrderRegistrationViewModel.SelectedTable}"
                Style="{DynamicResource DropDownListStyle_i1}"
                VerticalOptions="Start"
                WidthRequest="125">

                <controls:DropDownList.DataTemplate>
                    <DataTemplate>
                        <StackLayout Style="{DynamicResource StackLayoutTemplateStyle_i1}">

                            <BoxView Style="{DynamicResource SeparatorStyle_i3}" />

                            <StackLayout
                                Padding="14,7,14,12"
                                x:DataType="models:TableBindableModel"
                                HeightRequest="20"
                                Orientation="Horizontal">

                                <Label
                                    FontFamily="Barlow-Medium"
                                    FontSize="{DynamicResource TSize_i7}"
                                    HorizontalOptions="FillAndExpand"
                                    Text="{Binding TableNumber, StringFormat='Table {0}'}" />

                            </StackLayout>

                        </StackLayout>
                    </DataTemplate>
                </controls:DropDownList.DataTemplate>

            </controls:DropDownList>

            <!--  MEALS LIST  -->
            <CollectionView
                Grid.Row="2"
                BackgroundColor="{DynamicResource TextAndBackgroundColor_i8}"
                ItemsSource="{Binding OrderRegistrationViewModel.CurrentOrder.Seats}"
                VerticalScrollBarVisibility="Always">

                <CollectionView.Effects>
                    <effects:NoOverScrollEffect />

                    <effects:ScrollBarColorEffect
                        ScrollBarCornerRadius="9"
                        ScrollBarThumbColor="{StaticResource AppColor_i1}"
                        ScrollBarThumbWidth="6"
                        ScrollBarTrackColor="{StaticResource TextAndBackgroundColor_i2}" />
                </CollectionView.Effects>

                <CollectionView.EmptyView>
                    <StackLayout BackgroundColor="{DynamicResource TextAndBackgroundColor_i4}">

                        <StackLayout VerticalOptions="CenterAndExpand">

                            <ffimageloading:CachedImage
                                HeightRequest="250"
                                HorizontalOptions="Center"
                                Source="pic_payment.png"
                                WidthRequest="250" />

                            <controls:LineSpacingLabel
                                FontFamily="Barlow-Regular"
                                FontSize="{DynamicResource TSize_i4_5}"
                                HorizontalOptions="Center"
                                HorizontalTextAlignment="Center"
                                Style="{DynamicResource Regular24pxLabelStyle}"
                                Text="{xct:Translate ToCreateNewOrderSelectDishCard}"
                                TextColor="{DynamicResource TextAndBackgroundColor_i1}"
                                WidthRequest="250" />

                        </StackLayout>

                    </StackLayout>
                </CollectionView.EmptyView>

                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:SeatBindableModel">

                        <templates:SeatItemTemplate Padding="24,9,24,0" ItemsSource="{Binding Sets}" />

                    </DataTemplate>
                </CollectionView.ItemTemplate>

            </CollectionView>

            <!--  SUMMARY  -->
            <StackLayout Grid.Row="3">

                <StackLayout.Triggers>
                    <DataTrigger
                        Binding="{Binding OrderRegistrationViewModel.CurrentOrder.Seats.Count}"
                        TargetType="StackLayout"
                        Value="0">

                        <Setter Property="IsVisible" Value="false" />

                    </DataTrigger>
                </StackLayout.Triggers>

                <!--  SUMMARY HEADER  -->
                <StackLayout
                    Margin="18,8"
                    Orientation="Horizontal"
                    Spacing="12">

                    <StackLayout HeightRequest="50">

                        <Label
                            Style="{DynamicResource Medium14LabelStyle}"
                            Text="{xct:Translate Summary}"
                            VerticalOptions="CenterAndExpand">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroupList>

                                    <VisualStateGroup Name="AdaptiveLabel">

                                        <VisualState Name="Large">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowWidth="1280" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Style" Value="{DynamicResource SemiBold18LabelStyle}" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>

                                </VisualStateGroupList>
                            </VisualStateManager.VisualStateGroups>
                        </Label>

                        <Label
                            IsVisible="{Binding OrderRegistrationViewModel.CurrentOrder.CustomerName.Length}"
                            Style="{DynamicResource Medium16LabelStyle}"
                            Text="{Binding OrderRegistrationViewModel.CurrentOrder.CustomerName}"
                            TextColor="{DynamicResource AppColor_i1}"
                            VerticalOptions="FillAndExpand">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroupList>

                                    <VisualStateGroup Name="AdaptiveLabel">

                                        <VisualState Name="Large">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowWidth="1280" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Style" Value="{DynamicResource SemiBold18LabelStyle}" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>

                                </VisualStateGroupList>
                            </VisualStateManager.VisualStateGroups>
                        </Label>

                    </StackLayout>

                    <buttons:IconBorderButton
                        Command="{Binding OrderRegistrationViewModel.OpenHoldSelectionCommand}"
                        HorizontalOptions="EndAndExpand"
                        IconSource="ic_time_circle_40x40"
                        Style="{DynamicResource IconBorderButtonStyle_i2}" />

                    <buttons:IconBorderButton
                        Command="{Binding OrderRegistrationViewModel.OpenDiscountSelectionCommand}"
                        IconSource="ic_discount_48x48"
                        Style="{DynamicResource IconBorderButtonStyle_i2}" />

                    <buttons:IconBorderButton
                        Command="{Binding OrderRegistrationViewModel.RemoveTaxFromOrderCommand}"
                        IconSource="ic_tax"
                        Style="{DynamicResource IconBorderButtonStyle_i2}">

                        <buttons:IconBorderButton.Triggers>
                            <DataTrigger
                                Binding="{Binding OrderRegistrationViewModel.IsOrderWithTax}"
                                TargetType="buttons:IconBorderButton"
                                Value="false">

                                <Setter Property="IsVisible" Value="false" />

                            </DataTrigger>
                        </buttons:IconBorderButton.Triggers>

                    </buttons:IconBorderButton>

                </StackLayout>

                <BoxView Style="{DynamicResource SeparatorStyle_i3}" />

                <!--  SUMMARY BODY  -->
                <StackLayout Margin="18,10,18,0" Spacing="14">

                    <StackLayout Orientation="Horizontal">

                        <Label Style="{DynamicResource Medium14LabelStyle}" Text="{xct:Translate Subtotal}">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroupList>

                                    <VisualStateGroup Name="AdaptiveLabel">

                                        <VisualState Name="Large">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowWidth="1280" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Style" Value="{DynamicResource Medium16LabelStyle}" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>

                                </VisualStateGroupList>
                            </VisualStateManager.VisualStateGroups>
                        </Label>

                        <Label HorizontalOptions="EndAndExpand" Style="{DynamicResource Medium14LabelStyle}">
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="{xct:Translate CurrencySign}" />
                                    <Span Text=" " />
                                    <Span Text="{Binding OrderRegistrationViewModel.CurrentOrder.SubTotal, StringFormat={x:Static local:Constants.PRICE_FORMAT}}" />
                                </FormattedString>
                            </Label.FormattedText>

                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroupList>

                                    <VisualStateGroup Name="AdaptiveLabel">

                                        <VisualState Name="Large">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowWidth="1280" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Style" Value="{DynamicResource Medium16LabelStyle}" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>

                                </VisualStateGroupList>
                            </VisualStateManager.VisualStateGroups>
                        </Label>

                    </StackLayout>

                    <StackLayout Orientation="Horizontal">

                        <StackLayout.Triggers>
                            <DataTrigger
                                Binding="{Binding OrderRegistrationViewModel.IsOrderWithTax}"
                                TargetType="StackLayout"
                                Value="false">

                                <Setter Property="IsVisible" Value="false" />

                            </DataTrigger>
                        </StackLayout.Triggers>

                        <Label Style="{DynamicResource Medium14LabelStyle}" Text="{xct:Translate Tax}">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroupList>

                                    <VisualStateGroup Name="AdaptiveLabel">

                                        <VisualState Name="Large">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowWidth="1280" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Style" Value="{DynamicResource Medium16LabelStyle}" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>

                                </VisualStateGroupList>
                            </VisualStateManager.VisualStateGroups>
                        </Label>

                        <Label HorizontalOptions="EndAndExpand" Style="{DynamicResource Medium14LabelStyle}">
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="{xct:Translate CurrencySign}" />
                                    <Span Text=" " />
                                    <Span Text="{Binding OrderRegistrationViewModel.CurrentOrder.Tax, StringFormat={x:Static local:Constants.PRICE_FORMAT}}" />
                                </FormattedString>
                            </Label.FormattedText>

                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroupList>

                                    <VisualStateGroup Name="AdaptiveLabel">

                                        <VisualState Name="Large">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowWidth="1280" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="Style" Value="{DynamicResource Medium16LabelStyle}" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>

                                </VisualStateGroupList>
                            </VisualStateManager.VisualStateGroups>
                        </Label>

                    </StackLayout>

                    <BoxView Style="{DynamicResource SeparatorStyle_i2}" />

                    <StackLayout Padding="0,0,0,4" Orientation="Horizontal">

                        <Label Style="{DynamicResource Medium18LabelStyle}" Text="{xct:Translate Total}">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroupList>

                                    <VisualStateGroup Name="AdaptiveLabel">

                                        <VisualState Name="Large">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowWidth="1280" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="FontFamily" Value="Barlow-Regular" />
                                                <Setter Property="FontSize" Value="{DynamicResource TSize_i5}" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>

                                </VisualStateGroupList>
                            </VisualStateManager.VisualStateGroups>
                        </Label>

                        <Label
                            FontFamily="Barlow-SemiBold"
                            FontSize="{DynamicResource TSize_i6}"
                            HorizontalOptions="EndAndExpand">
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="{xct:Translate CurrencySign}" />
                                    <Span Text=" " />
                                    <Span Text="{Binding OrderRegistrationViewModel.CurrentOrder.Total, StringFormat={x:Static local:Constants.PRICE_FORMAT}}" />
                                </FormattedString>
                            </Label.FormattedText>

                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroupList>

                                    <VisualStateGroup Name="AdaptiveLabel">

                                        <VisualState Name="Large">

                                            <VisualState.StateTriggers>
                                                <AdaptiveTrigger MinWindowWidth="1280" />
                                            </VisualState.StateTriggers>

                                            <VisualState.Setters>
                                                <Setter Property="FontFamily" Value="Barlow-Regular" />
                                                <Setter Property="FontSize" Value="{DynamicResource TSize_i5}" />
                                            </VisualState.Setters>

                                        </VisualState>

                                    </VisualStateGroup>

                                </VisualStateGroupList>
                            </VisualStateManager.VisualStateGroups>
                        </Label>

                    </StackLayout>

                </StackLayout>

            </StackLayout>

            <!--  BUTTONS  -->
            <Grid
                Grid.Row="4"
                Margin="18,12,18,20"
                ColumnSpacing="12">

                <Grid.Triggers>
                    <DataTrigger
                        Binding="{Binding OrderRegistrationViewModel.CurrentOrder.Seats.Count}"
                        TargetType="Grid"
                        Value="0">

                        <Setter Property="Opacity" Value="{StaticResource OpacityWhenDisabled_i1}" />
                        <Setter Property="IsEnabled" Value="False" />

                    </DataTrigger>
                </Grid.Triggers>

                <buttons:BorderButton
                    Grid.Column="0"
                    BorderColor="{DynamicResource IndicationColor_i5}"
                    Command="{Binding OrderRegistrationViewModel.OrderCommand}"
                    Style="{DynamicResource BorderButtonStyle_i2}"
                    Text="{xct:Translate Order}" />

                <buttons:BorderButton
                    Grid.Column="1"
                    BorderColor="{DynamicResource IndicationColor_i7}"
                    Command="{Binding OrderRegistrationViewModel.TabCommand}"
                    Style="{DynamicResource BorderButtonStyle_i2}"
                    Text="{xct:Translate Tab}" />

                <buttons:BorderButton
                    Grid.Column="2"
                    Background="{DynamicResource IndicationColor_i1}"
                    BorderColor="{DynamicResource IndicationColor_i1}"
                    Command="{Binding OrderRegistrationViewModel.PayCommand}"
                    Style="{DynamicResource BorderButtonStyle_i2}"
                    Text="{xct:Translate Pay}"
                    TextColor="{DynamicResource TextAndBackgroundColor_i3}" />

            </Grid>

        </Grid>

        <VisualStateManager.VisualStateGroups>
            <VisualStateGroup Name="AdaptiveRightPart">

                <VisualState Name="moreiPadPro11">

                    <VisualState.StateTriggers>
                        <AdaptiveTrigger MinWindowWidth="1195" />
                    </VisualState.StateTriggers>

                    <VisualState.Setters>
                        <Setter Property="ColumnDefinitions" Value="*, 484" />
                    </VisualState.Setters>

                </VisualState>

            </VisualStateGroup>
        </VisualStateManager.VisualStateGroups>
    </Grid>

</ContentView>