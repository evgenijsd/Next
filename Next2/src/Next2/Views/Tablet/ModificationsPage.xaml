<?xml version="1.0" encoding="utf-8" ?>
<views:BaseContentPage
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:xct="http://xamarin.com/schemas/2020/toolkit"
    xmlns:controls="clr-namespace:Next2.Controls"
    xmlns:templates="clr-namespace:Next2.Controls.Templates"
    xmlns:effects="clr-namespace:Next2.Effects"
    xmlns:models="clr-namespace:Next2.Models"
    xmlns:viewmodels="clr-namespace:Next2.ViewModels"
    xmlns:views="clr-namespace:Next2.Views"
    x:DataType="viewmodels:ModificationsPageViewModel"
    x:Class="Next2.Views.Tablet.ModificationsPage">

    <Grid ColumnDefinitions="300, *">

        <StackLayout
            Grid.Column="0"
            BackgroundColor="{DynamicResource TextAndBackgroundColor_i4}">

            <Label
                Text="{xct:Translate Modifications}"
                TextColor="{DynamicResource TextAndBackgroundColor_i1}"
                FontSize="{DynamicResource TSize_i4}"
                FontFamily="Barlow-SemiBold"
                Padding="32, 16"/>

            <BoxView
                BackgroundColor="{DynamicResource TextAndBackgroundColor_i5}"
                HeightRequest="1"/>

            <Label
                Text="{xct:Translate Proportions}"
                TextColor="{DynamicResource TextAndBackgroundColor_i1}"
                FontSize="{DynamicResource TSize_i4}"
                FontFamily="Barlow-SemiBold"
                Padding="32, 16"/>

            <BoxView
                BackgroundColor="{DynamicResource TextAndBackgroundColor_i2}"
                HeightRequest="1"/>

            <CollectionView
                x:Name="collectionView2"
                ItemsSource="{Binding Products}"
                SelectedItem="{Binding SelectedMenuItem}"
                SelectionMode="Single"
                VerticalScrollBarVisibility="Never"
                HorizontalScrollBarVisibility="Never">

                <CollectionView.ItemTemplate>

                    <DataTemplate x:DataType="models:ProductBindableModel">
                        <StackLayout>
                            
                            <controls:Spoiler
                                VerticalOptions="Start"
                                ItemsSource="{Binding Items}"
                                SelectedItem="{Binding SelectedSubmenuItem, Source={x:Reference collectionView2}}">

                                <controls:Spoiler.HeaderTemplate>

                                    <Label
                                        Padding="32, 16"
                                        Text="{Binding Title}"
                                        TextColor="{DynamicResource TextAndBackgroundColor_i1}"
                                        FontSize="{DynamicResource TSize_i4}"
                                        FontFamily="Barlow-Medium"
                                        VerticalTextAlignment="Center"/>

                                </controls:Spoiler.HeaderTemplate>

                                <controls:Spoiler.ItemTemplate>
                                    
                                    <DataTemplate x:DataType="models:ItemSpoilerModel">
                                        <templates:SpoilerItemTemplate HeightRequest="59"/>
                                    </DataTemplate>
                                    
                                </controls:Spoiler.ItemTemplate>

                            </controls:Spoiler>

                            <BoxView
                                BackgroundColor="{DynamicResource TextAndBackgroundColor_i2}"
                                HeightRequest="1"/>
                            
                        </StackLayout>
                    </DataTemplate>
                </CollectionView.ItemTemplate>

                <CollectionView.Effects>
                    <effects:NoOverScrollEffect/>
                </CollectionView.Effects>

            </CollectionView>

        </StackLayout>

        <StackLayout
            Grid.Column="1"
            BackgroundColor="{DynamicResource TextAndBackgroundColor_i5}"
            VerticalOptions="Fill">

            <Label
                Text="Content"
                TextColor="White"
                HorizontalOptions="CenterAndExpand"
                VerticalOptions="CenterAndExpand"/>

        </StackLayout>
        
    </Grid>
    
</views:BaseContentPage>