<?xml version="1.0" encoding="utf-8" ?>
<views:BaseContentPage
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:xct="http://xamarin.com/schemas/2020/toolkit"
    xmlns:ffimageloading="clr-namespace:FFImageLoading.Forms;assembly=FFImageLoading.Forms"
    xmlns:controls="clr-namespace:Next2.Controls"
    xmlns:templates="clr-namespace:Next2.Controls.Templates"
    xmlns:sc="clr-namespace:Next2.Controls.StateContainer"
    xmlns:models="clr-namespace:Next2.Models"
    xmlns:viewModels="clr-namespace:Next2.ViewModels.Tablet"
    xmlns:views="clr-namespace:Next2.Views"
    xmlns:viewsTablet="clr-namespace:Next2.Views.Tablet"
    x:DataType="viewModels:MenuPageViewModel"
    x:Class="Next2.Views.Tablet.MenuPage">

    <Grid
        ColumnSpacing="0"
        ColumnDefinitions="110, *">

        <!--SIDE MENU-->
        
        <Grid
            Grid.Row="0"
            Grid.Column="0"
            RowDefinitions="105, *, 90"
            RowSpacing="0"
            BackgroundColor="{DynamicResource textAndBackgroundColor_i3}">

            <ffimageloading:CachedImage
                Grid.Row="0"
                Grid.Column="0"
                Source="pic_logo_small.png"
                Margin="0, 10, 0, 10"/>
            
            <controls:TabsControl
                Padding="0, 10, 0, 10"
                Grid.Row="1"
                Grid.Column="0"
                AlignContent="Center"
                ItemsSource="{Binding MenuItems}"
                SelectedItem="{Binding SelectedMenuItem}"
                Direction="Column">

                <DataTemplate x:DataType="models:MenuItemBindableModel">

                    <templates:MenuItemTemplate
                        ImagePath="{Binding ImagePath}"
                        Style="{DynamicResource MenuItemTemplateTabletStyle}"
                        Text="{Binding Title}"
                        FontSize="{DynamicResource tsize_i9}"
                        FontFamily="Barlow-Medium"
                        IsSelected="{Binding IsSelected}"
                        Margin="13, 0"
                        Padding="0, 13"/>

                </DataTemplate>

            </controls:TabsControl>

            <templates:MenuItemTemplate
                Grid.Row="2"
                Grid.Column="0"
                IsSelected="False"
                ImagePath="ic_logout_30x30.png"
                Text="{xct:Translate LogOut}"
                FontSize="{DynamicResource tsize_i8}"
                FontFamily="Barlow-SemiBold"
                Margin="10, 0"
                Padding="0, 15"/>

        </Grid>

        <!--TABS PAGES-->
        
        <sc:StateContainer
            Grid.Row="0"
            Grid.Column="1"
            State="{Binding SelectedMenuItem.State}">

            <sc:StateCondition State="NewOrder">

                <viewsTablet:NewOrderView BindingContext="{Binding NewOrderViewModel}"/>
                
            </sc:StateCondition>

            <sc:StateCondition State="HoldItems">

                <viewsTablet:HoldItemsView BindingContext="{Binding HoldItemsViewModel}"/>

            </sc:StateCondition>

            <sc:StateCondition State="OrderTabs">

                <viewsTablet:OrderTabsView BindingContext="{Binding OrderTabsViewModel}"/>

            </sc:StateCondition>

            <sc:StateCondition State="Reservations">

                <views:ReservationsView BindingContext="{Binding ReservationsViewModel}"/>

            </sc:StateCondition>

            <sc:StateCondition State="Membership">

                <views:MembershipView BindingContext="{Binding MembershipViewModel}"/>

            </sc:StateCondition>

            <sc:StateCondition State="Customers">

                <viewsTablet:CustomersView BindingContext="{Binding CustomersViewModel}"/>

            </sc:StateCondition>

            <sc:StateCondition State="Settings">

                <views:SettingsView BindingContext="{Binding SettingsViewModel}"/>

            </sc:StateCondition>
            
        </sc:StateContainer>

    </Grid>

</views:BaseContentPage>
